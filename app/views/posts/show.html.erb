<p id="notice"><%= notice %></p>
<% if !@view %>
<div>
<%= link_to '編集', edit_post_path(@post) %> |
<%= link_to '戻る', posts_path %><br/><br/>
</div>
<div>
<h2>
<%= link_to "Twitter投下処理", publish_path, :onclick => 'show()' %>
</h2>
<p>↑クリックしたら処理に30秒ぐらいかかる</p>
</div>
<% end %>
<h1><%= @post.title %></h1>
<h4 style="text-align:right"><%= @post.author %></h4>
<%= @post.content %>

<div class="popup" id="js-popup">
  <div class="popup-inner">
     処理中..
  </div>
</div>

<style>
.popup {
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
  display:none;
  transition: .6s;
  background: rgb(0,0,0,0.5)
}
.popup-inner {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  width: 60%;
  max-width: 400px;
  padding: 50px;
  background-color: #fff;
  z-index: 100;
  border-radius: 20px;
  text-align: center;
}
</style>
<script>
var modal = document.getElementById('js-popup');
function show() {
  modal.style.display = 'block';
}
</script>
